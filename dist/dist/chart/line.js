define("echarts/chart/line",["require","./base","zrender/shape/Polyline","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(t){function e(t,e,i,n,s){o.call(this,t,e,i,n,s),this.refresh(n)}function i(t,e,i){var o=e.x,n=e.y,r=e.width,a=e.height,h=a/2;e.symbol.match("empty")&&(t.fillStyle="#fff"),e.brushType="both";var l=e.symbol.replace("empty","").toLowerCase();l.match("star")?(h=l.replace("star","")-0||5,n-=1,l="star"):("rectangle"===l||"arrow"===l)&&(o+=(r-a)/2,r=a);var c="";if(l.match("image")&&(c=l.replace(new RegExp("^image:\\/\\/"),""),l="image",o+=Math.round((r-a)/2)-1,r=a+=2),l=s.prototype.iconLibrary[l]){var d=e.x,p=e.y;t.moveTo(d,p+h),t.lineTo(d+5,p+h),t.moveTo(d+e.width-5,p+h),t.lineTo(d+e.width,p+h);var u=this;l(t,{x:o+4,y:n+4,width:r-8,height:a-8,n:h,image:c},function(){u.modSelf(),i()})}else t.moveTo(o,n+h),t.lineTo(o+r,n+h)}var o=t("./base"),n=t("zrender/shape/Polyline"),s=t("../util/shape/Icon"),r=t("../util/shape/HalfSmoothPolygon");t("../component/axis"),t("../component/grid"),t("../component/dataZoom");var a=t("../config");a.line={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1};var h=t("../util/ecData"),l=t("zrender/tool/util"),c=t("zrender/tool/color");return e.prototype={type:a.CHART_TYPE_LINE,_buildShape:function(){this.finalPLMap={},this._buildPosition()},_buildHorizontal:function(t,e,i,o){for(var n,s,r,a,h,l,c,d,p,u=this.series,f=i[0][0],g=u[f],m=this.component.xAxis.getAxis(g.xAxisIndex||0),_={},y=0,v=e;v>y&&null!=m.getNameByIndex(y);y++){s=m.getCoordByIndex(y);for(var x=0,b=i.length;b>x;x++){n=this.component.yAxis.getAxis(u[i[x][0]].yAxisIndex||0),h=a=c=l=n.getCoord(0);for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=u[f],d=g.data[y],p=this.getDataFromOption(d,"-"),_[f]=_[f]||[],o[f]=o[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==p?(p>=0?(a-=T>0?n.getCoordSize(p):h-n.getCoord(p),r=a):0>p&&(l+=T>0?n.getCoordSize(p):n.getCoord(p)-c,r=l),_[f].push([s,r,y,m.getNameByIndex(y),s,h]),o[f].min>p&&(o[f].min=p,o[f].minY=r,o[f].minX=s),o[f].max<p&&(o[f].max=p,o[f].maxY=r,o[f].maxX=s),o[f].sum+=p,o[f].counter++):_[f].length>0&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(_[f]),_[f]=[])}a=this.component.grid.getY();for(var z,x=0,b=i.length;b>x;x++)for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=u[f],d=g.data[y],p=this.getDataFromOption(d,"-"),"-"==p&&this.deepQuery([d,g,this.option],"calculable")&&(z=this.deepQuery([d,g],"symbolSize"),a+=2*z+5,r=a,this.shapeList.push(this._getCalculableItem(f,y,m.getNameByIndex(y),s,r,"horizontal")))}for(var C in _)_[C].length>0&&(this.finalPLMap[C]=this.finalPLMap[C]||[],this.finalPLMap[C].push(_[C]),_[C]=[]);this._calculMarkMapXY(o,i,"y"),this._buildBorkenLine(t,this.finalPLMap,m,"horizontal")},_buildVertical:function(t,e,i,o){for(var n,s,r,a,h,l,c,d,p,u=this.series,f=i[0][0],g=u[f],m=this.component.yAxis.getAxis(g.yAxisIndex||0),_={},y=0,v=e;v>y&&null!=m.getNameByIndex(y);y++){r=m.getCoordByIndex(y);for(var x=0,b=i.length;b>x;x++){n=this.component.xAxis.getAxis(u[i[x][0]].xAxisIndex||0),h=a=c=l=n.getCoord(0);for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=u[f],d=g.data[y],p=this.getDataFromOption(d,"-"),_[f]=_[f]||[],o[f]=o[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==p?(p>=0?(a+=T>0?n.getCoordSize(p):n.getCoord(p)-h,s=a):0>p&&(l-=T>0?n.getCoordSize(p):c-n.getCoord(p),s=l),_[f].push([s,r,y,m.getNameByIndex(y),h,r]),o[f].min>p&&(o[f].min=p,o[f].minX=s,o[f].minY=r),o[f].max<p&&(o[f].max=p,o[f].maxX=s,o[f].maxY=r),o[f].sum+=p,o[f].counter++):_[f].length>0&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(_[f]),_[f]=[])}a=this.component.grid.getXend();for(var z,x=0,b=i.length;b>x;x++)for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=u[f],d=g.data[y],p=this.getDataFromOption(d,"-"),"-"==p&&this.deepQuery([d,g,this.option],"calculable")&&(z=this.deepQuery([d,g],"symbolSize"),a-=2*z+5,s=a,this.shapeList.push(this._getCalculableItem(f,y,m.getNameByIndex(y),s,r,"vertical")))}for(var C in _)_[C].length>0&&(this.finalPLMap[C]=this.finalPLMap[C]||[],this.finalPLMap[C].push(_[C]),_[C]=[]);this._calculMarkMapXY(o,i,"x"),this._buildBorkenLine(t,this.finalPLMap,m,"vertical")},_buildOther:function(t,e,i,o){for(var n,s=this.series,r={},a=0,h=i.length;h>a;a++)for(var l=0,c=i[a].length;c>l;l++){var d=i[a][l],p=s[d];n=this.component.xAxis.getAxis(p.xAxisIndex||0);var u=this.component.yAxis.getAxis(p.yAxisIndex||0),f=u.getCoord(0);r[d]=r[d]||[],o[d]=o[d]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var g=0,m=p.data.length;m>g;g++){var _=p.data[g],y=this.getDataFromOption(_,"-");if(y instanceof Array){var v=n.getCoord(y[0]),x=u.getCoord(y[1]);r[d].push([v,x,g,y[0],v,f]),o[d].min0>y[0]&&(o[d].min0=y[0],o[d].minY0=x,o[d].minX0=v),o[d].max0<y[0]&&(o[d].max0=y[0],o[d].maxY0=x,o[d].maxX0=v),o[d].sum0+=y[0],o[d].counter0++,o[d].min1>y[1]&&(o[d].min1=y[1],o[d].minY1=x,o[d].minX1=v),o[d].max1<y[1]&&(o[d].max1=y[1],o[d].maxY1=x,o[d].maxX1=v),o[d].sum1+=y[1],o[d].counter1++}}}for(var b in r)r[b].length>0&&(this.finalPLMap[b]=this.finalPLMap[b]||[],this.finalPLMap[b].push(r[b]),r[b]=[]);this._calculMarkMapXY(o,i,"xy"),this._buildBorkenLine(t,this.finalPLMap,n,"other")},_buildBorkenLine:function(t,e,i,o){for(var s,a="other"==o?"horizontal":o,d=this.series,p=t.length-1;p>=0;p--){var u=t[p],f=d[u],g=e[u];if(f.type===this.type&&null!=g)for(var m=this._getBbox(u,a),_=this._sIndex2ColorMap[u],y=this.query(f,"itemStyle.normal.lineStyle.width"),v=this.query(f,"itemStyle.normal.lineStyle.type"),x=this.query(f,"itemStyle.normal.lineStyle.color"),b=this.getItemStyleColor(this.query(f,"itemStyle.normal.color"),u,-1),T=null!=this.query(f,"itemStyle.normal.areaStyle"),S=this.query(f,"itemStyle.normal.areaStyle.color"),z=0,C=g.length;C>z;z++){var w=g[z],E="other"!=o&&this._isLarge(a,w);if(E)w=this._getLargePointList(a,w);else for(var L=0,A=w.length;A>L;L++)s=f.data[w[L][2]],(this.deepQuery([s,f,this.option],"calculable")||this.deepQuery([s,f],"showAllSymbol")||"categoryAxis"===i.type&&i.isMainAxis(w[L][2])&&"none"!=this.deepQuery([s,f],"symbol"))&&this.shapeList.push(this._getSymbol(u,w[L][2],w[L][3],w[L][0],w[L][1],a));var M=new n({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{miterLimit:y,pointList:w,strokeColor:x||b||_,lineWidth:y,lineType:v,smooth:this._getSmooth(f.smooth),smoothConstraint:m,shadowColor:this.query(f,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(f,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(f,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(f,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:!1,_main:!0,_seriesIndex:u,_orient:a});if(h.pack(M,d[u],u,0,z,d[u].name),this.shapeList.push(M),T){var k=new r({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{miterLimit:y,pointList:l.clone(w).concat([[w[w.length-1][4],w[w.length-1][5]],[w[0][4],w[0][5]]]),brushType:"fill",smooth:this._getSmooth(f.smooth),smoothConstraint:m,color:S?S:c.alpha(_,.5)},highlightStyle:{brushType:"fill"},hoverable:!1,_main:!0,_seriesIndex:u,_orient:a});h.pack(k,d[u],u,0,z,d[u].name),this.shapeList.push(k)}}}},_getBbox:function(t,e){var i=this.component.grid.getBbox(),o=this.xMarkMap[t];return null!=o.minX0?[[Math.min(o.minX0,o.maxX0,o.minX1,o.maxX1),Math.min(o.minY0,o.maxY0,o.minY1,o.maxY1)],[Math.max(o.minX0,o.maxX0,o.minX1,o.maxX1),Math.max(o.minY0,o.maxY0,o.minY1,o.maxY1)]]:("horizontal"===e?(i[0][1]=Math.min(o.minY,o.maxY),i[1][1]=Math.max(o.minY,o.maxY)):(i[0][0]=Math.min(o.minX,o.maxX),i[1][0]=Math.max(o.minX,o.maxX)),i)},_isLarge:function(t,e){return e.length<2?!1:"horizontal"===t?Math.abs(e[0][0]-e[1][0])<.5:Math.abs(e[0][1]-e[1][1])<.5},_getLargePointList:function(t,e){var i;i="horizontal"===t?this.component.grid.getWidth():this.component.grid.getHeight();for(var o=e.length,n=[],s=0;i>s;s++)n[s]=e[Math.floor(o/i*s)];return n},_getSmooth:function(t){return t?.3:0},_getCalculableItem:function(t,e,i,o,n,s){var r=this.series,h=r[t].calculableHolderColor||this.ecTheme.calculableHolderColor||a.calculableHolderColor,l=this._getSymbol(t,e,i,o,n,s);return l.style.color=h,l.style.strokeColor=h,l.rotation=[0,0],l.hoverable=!1,l.draggable=!1,l.style.text=void 0,l},_getSymbol:function(t,e,i,o,n,s){var r=this.series,a=r[t],h=a.data[e],l=this.getSymbolShape(a,t,h,e,i,o,n,this._sIndex2ShapeMap[t],this._sIndex2ColorMap[t],"#fff","vertical"===s?"horizontal":"vertical");return l.zlevel=this.getZlevelBase(),l.z=this.getZBase()+1,this.deepQuery([h,a,this.option],"calculable")&&(this.setCalculable(l),l.draggable=!0),l},getMarkCoord:function(t,e){var i=this.series[t],o=this.xMarkMap[t],n=this.component.xAxis.getAxis(i.xAxisIndex),s=this.component.yAxis.getAxis(i.yAxisIndex);if(e.type&&("max"===e.type||"min"===e.type||"average"===e.type)){var r=null!=e.valueIndex?e.valueIndex:null!=o.maxX0?"1":"";return[o[e.type+"X"+r],o[e.type+"Y"+r],o[e.type+"Line"+r],o[e.type+r]]}return["string"!=typeof e.xAxis&&n.getCoordByIndex?n.getCoordByIndex(e.xAxis||0):n.getCoord(e.xAxis||0),"string"!=typeof e.yAxis&&s.getCoordByIndex?s.getCoordByIndex(e.yAxis||0):s.getCoord(e.yAxis||0)]},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},ontooltipHover:function(t,e){for(var i,o,n=t.seriesIndex,s=t.dataIndex,r=n.length;r--;)if(i=this.finalPLMap[n[r]])for(var a=0,h=i.length;h>a;a++){o=i[a];for(var l=0,c=o.length;c>l;l++)s===o[l][2]&&e.push(this._getSymbol(n[r],o[l][2],o[l][3],o[l][0],o[l][1],"horizontal"))}},addDataAnimation:function(t){for(var e=this.series,i={},o=0,n=t.length;n>o;o++)i[t[o][0]]=t[o];for(var s,r,a,h,l,c,d,o=this.shapeList.length-1;o>=0;o--)if(l=this.shapeList[o]._seriesIndex,i[l]&&!i[l][3]){if(this.shapeList[o]._main&&this.shapeList[o].style.pointList.length>1){if(c=this.shapeList[o].style.pointList,r=Math.abs(c[0][0]-c[1][0]),h=Math.abs(c[0][1]-c[1][1]),d="horizontal"===this.shapeList[o]._orient,i[l][2]){if("half-smooth-polygon"===this.shapeList[o].type){var p=c.length;this.shapeList[o].style.pointList[p-3]=c[p-2],this.shapeList[o].style.pointList[p-3][d?0:1]=c[p-4][d?0:1],this.shapeList[o].style.pointList[p-2]=c[p-1]}this.shapeList[o].style.pointList.pop(),d?(s=r,a=0):(s=0,a=-h)}else{if(this.shapeList[o].style.pointList.shift(),"half-smooth-polygon"===this.shapeList[o].type){var u=this.shapeList[o].style.pointList.pop();d?u[0]=c[0][0]:u[1]=c[0][1],this.shapeList[o].style.pointList.push(u)}d?(s=-r,a=0):(s=0,a=h)}this.zr.modShape(this.shapeList[o].id,{style:{pointList:this.shapeList[o].style.pointList}},!0)}else{if(i[l][2]&&this.shapeList[o]._dataIndex===e[l].data.length-1){this.zr.delShape(this.shapeList[o].id);continue}if(!i[l][2]&&0===this.shapeList[o]._dataIndex){this.zr.delShape(this.shapeList[o].id);continue}}this.shapeList[o].position=[0,0],this.zr.animate(this.shapeList[o].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[s,a]}).start()}}},s.prototype.iconLibrary.legendLineIcon=i,l.inherits(e,o),t("../chart").define("line",e),e}),define("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("zrender/shape/util/smoothBezier"),n=t("zrender/tool/util");return e.prototype={type:"half-smooth-polygon",buildPath:function(e,i){var n=i.pointList;if(!(n.length<2))if(i.smooth){var s=o(n.slice(0,-2),i.smooth,!1,i.smoothConstraint);e.moveTo(n[0][0],n[0][1]);for(var r,a,h,l=n.length,c=0;l-3>c;c++)r=s[2*c],a=s[2*c+1],h=n[c+1],e.bezierCurveTo(r[0],r[1],a[0],a[1],h[0],h[1]);e.lineTo(n[l-2][0],n[l-2][1]),e.lineTo(n[l-1][0],n[l-1][1]),e.lineTo(n[0][0],n[0][1])}else t("zrender/shape/Polygon").prototype.buildPath(e,i)}},n.inherits(e,i),e}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(t){function e(t,e,o,n,s,r){i.call(this,t,e,o,n,s),this.axisType=r,this._axisList=[],this.refresh(n)}var i=t("./base"),o=t("zrender/shape/Line"),n=t("../config"),s=t("../util/ecData"),r=t("zrender/tool/util"),a=t("zrender/tool/color");return e.prototype={type:n.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var t=this.option.axisLine.lineStyle.width,e=t/2,i={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},n=this.grid;switch(this.option.position){case"left":i.style={xStart:n.getX()-e,yStart:n.getYend(),xEnd:n.getX()-e,yEnd:n.getY(),lineCap:"round"};break;case"right":i.style={xStart:n.getXend()+e,yStart:n.getYend(),xEnd:n.getXend()+e,yEnd:n.getY(),lineCap:"round"};break;case"bottom":i.style={xStart:n.getX(),yStart:n.getYend()+e,xEnd:n.getXend(),yEnd:n.getYend()+e,lineCap:"round"};break;case"top":i.style={xStart:n.getX(),yStart:n.getY()-e,xEnd:n.getXend(),yEnd:n.getY()-e,lineCap:"round"}}var s=i.style;""!==this.option.name&&(s.text=this.option.name,s.textPosition=this.option.nameLocation,s.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(s.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(s.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(s.textColor=this.option.nameTextStyle.color)),s.strokeColor=this.option.axisLine.lineStyle.color,s.lineWidth=t,this.isHorizontal()?s.yStart=s.yEnd=this.subPixelOptimize(s.yEnd,t):s.xStart=s.xEnd=this.subPixelOptimize(s.xEnd,t),s.lineType=this.option.axisLine.lineStyle.type,i=new o(i),this.shapeList.push(i)},_axisLabelClickable:function(t,e){return t?(s.pack(e,void 0,-1,void 0,-1,e.style.text),e.hoverable=!0,e.clickable=!0,e.highlightStyle={color:a.lift(e.style.color,1),brushType:"fill"},e):e},refixAxisShape:function(t,e){if(this.option.axisLine.onZero){var i;if(this.isHorizontal()&&null!=e)for(var o=0,n=this.shapeList.length;n>o;o++)"axisLine"===this.shapeList[o]._axisShape?(this.shapeList[o].style.yStart=this.shapeList[o].style.yEnd=this.subPixelOptimize(e,this.shapeList[o].stylelineWidth),this.zr.modShape(this.shapeList[o].id)):"axisTick"===this.shapeList[o]._axisShape&&(i=this.shapeList[o].style.yEnd-this.shapeList[o].style.yStart,this.shapeList[o].style.yStart=e-i,this.shapeList[o].style.yEnd=e,this.zr.modShape(this.shapeList[o].id));if(!this.isHorizontal()&&null!=t)for(var o=0,n=this.shapeList.length;n>o;o++)"axisLine"===this.shapeList[o]._axisShape?(this.shapeList[o].style.xStart=this.shapeList[o].style.xEnd=this.subPixelOptimize(t,this.shapeList[o].stylelineWidth),this.zr.modShape(this.shapeList[o].id)):"axisTick"===this.shapeList[o]._axisShape&&(i=this.shapeList[o].style.xEnd-this.shapeList[o].style.xStart,this.shapeList[o].style.xStart=t,this.shapeList[o].style.xEnd=t+i,this.zr.modShape(this.shapeList[o].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(t){if(!t||t instanceof Array&&0===t.length?t=[{type:n.COMPONENT_TYPE_AXIS_VALUE}]:t instanceof Array||(t=[t]),t.length>2&&(t=[t[0],t[1]]),"xAxis"===this.axisType){(!t[0].position||"bottom"!=t[0].position&&"top"!=t[0].position)&&(t[0].position="bottom"),t.length>1&&(t[1].position="bottom"===t[0].position?"top":"bottom");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"category",t[e].xAxisIndex=e,t[e].yAxisIndex=-1}else{(!t[0].position||"left"!=t[0].position&&"right"!=t[0].position)&&(t[0].position="left"),t.length>1&&(t[1].position="left"===t[0].position?"right":"left");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"value",t[e].xAxisIndex=-1,t[e].yAxisIndex=e}return t},refresh:function(e){var i;e&&(this.option=e,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(e.xAxis),i=this.option.xAxis):(this.option.yAxis=this.reformOption(e.yAxis),i=this.option.yAxis),this.series=e.series);for(var o=t("./categoryAxis"),n=t("./valueAxis"),s=Math.max(i&&i.length||0,this._axisList.length),r=0;s>r;r++)!this._axisList[r]||!e||i[r]&&this._axisList[r].type==i[r].type||(this._axisList[r].dispose&&this._axisList[r].dispose(),this._axisList[r]=!1),this._axisList[r]?this._axisList[r].refresh&&this._axisList[r].refresh(i?i[r]:!1,this.series):i&&i[r]&&(this._axisList[r]="category"===i[r].type?new o(this.ecTheme,this.messageCenter,this.zr,i[r],this.myChart,this.axisBase):new n(this.ecTheme,this.messageCenter,this.zr,i[r],this.myChart,this.axisBase,this.series))},getAxis:function(t){return this._axisList[t]},clear:function(){for(var t=0,e=this._axisList.length;e>t;t++)this._axisList[t].dispose&&this._axisList[t].dispose();this._axisList=[]}},r.inherits(e,i),t("../component").define("axis",e),e}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(t){function e(t,e,o,n,s){i.call(this,t,e,o,n,s),this.refresh(n)}var i=t("./base"),o=t("zrender/shape/Rectangle"),n=t("../config");n.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var s=t("zrender/tool/util");return e.prototype={type:n.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(t){for(var e,i,o,s=t.xAxis._axisList.concat(t.yAxis?t.yAxis._axisList:[]),r=s.length;r--;)o=s[r],o.type==n.COMPONENT_TYPE_AXIS_VALUE&&o._min<0&&o._max>=0&&(o.isHorizontal()?e=o.getCoord(0):i=o.getCoord(0));if("undefined"!=typeof e||"undefined"!=typeof i)for(r=s.length;r--;)s[r].refixAxisShape(e,i)},refresh:function(t){if(t||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=t||this.option,this.option.grid=this.reformOption(this.option.grid);var e=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(e.x,this._zrWidth),this._y=this.parsePercent(e.y,this._zrHeight);var i=this.parsePercent(e.x2,this._zrWidth),n=this.parsePercent(e.y2,this._zrHeight);this._width="undefined"==typeof e.width?this._zrWidth-this._x-i:this.parsePercent(e.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof e.height?this._zrHeight-this._y-n:this.parsePercent(e.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,e.borderWidth),this._y=this.subPixelOptimize(this._y,e.borderWidth),this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:e.borderWidth>0?"both":"fill",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},s.inherits(e,i),t("../component").define("grid",e),e}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(t){function e(t,e,o,n,s){i.call(this,t,e,o,n,s);var r=this;r._ondrift=function(t,e){return r.__ondrift(this,t,e)},r._ondragend=function(){return r.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var i=t("./base"),o=t("zrender/shape/Rectangle"),n=t("zrender/shape/Polygon"),s=t("../util/shape/Icon"),r=t("../config");r.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var a=t("../util/date"),h=t("zrender/tool/util");return e.prototype={type:r.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t]);this._syncFrameShape()},_getLocation:function(){var t,e,i,o,n=this.component.grid;return"horizontal"==this.zoomOption.orient?(i=this.zoomOption.width||n.getWidth(),o=this.zoomOption.height||this._fillerSize,t=null!=this.zoomOption.x?this.zoomOption.x:n.getX(),e=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-o-2):(i=this.zoomOption.width||this._fillerSize,o=this.zoomOption.height||n.getHeight(),t=null!=this.zoomOption.x?this.zoomOption.x:2,e=null!=this.zoomOption.y?this.zoomOption.y:n.getY()),{x:t,y:e,width:i,height:o}},_getZoom:function(){var t=this.option.series,e=this.option.xAxis;!e||e instanceof Array||(e=[e],this.option.xAxis=e);var i=this.option.yAxis;!i||i instanceof Array||(i=[i],this.option.yAxis=i);var o,n,s=[],a=this.zoomOption.xAxisIndex;if(e&&null==a){o=[];for(var h=0,l=e.length;l>h;h++)("category"==e[h].type||null==e[h].type)&&o.push(h)}else o=a instanceof Array?a:null!=a?[a]:[];if(a=this.zoomOption.yAxisIndex,i&&null==a){n=[];for(var h=0,l=i.length;l>h;h++)"category"==i[h].type&&n.push(h)}else n=a instanceof Array?a:null!=a?[a]:[];for(var c,h=0,l=t.length;l>h;h++)if(c=t[h],c.type==r.CHART_TYPE_LINE||c.type==r.CHART_TYPE_BAR||c.type==r.CHART_TYPE_SCATTER||c.type==r.CHART_TYPE_K){for(var d=0,p=o.length;p>d;d++)if(o[d]==(c.xAxisIndex||0)){s.push(h);break}for(var d=0,p=n.length;p>d;d++)if(n[d]==(c.yAxisIndex||0)){s.push(h);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&c.data&&this.getDataFromOption(c.data[0])instanceof Array&&(c.type==r.CHART_TYPE_SCATTER||c.type==r.CHART_TYPE_LINE||c.type==r.CHART_TYPE_BAR)&&s.push(h)}var u=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,f=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;u>f&&(u+=f,f=u-f,u-=f);var g=Math.round((f-u)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:u,end:f,start2:0,end2:100,size:g,xAxisIndex:o,yAxisIndex:n,seriesIndex:s,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var t=this.option.xAxis,e=this._zoom.xAxisIndex,i=0,o=e.length;o>i;i++)this._originalData.xAxis[e[i]]=t[e[i]].data;for(var n=this.option.yAxis,s=this._zoom.yAxisIndex,i=0,o=s.length;o>i;i++)this._originalData.yAxis[s[i]]=n[s[i]].data;for(var a,h=this.option.series,l=this._zoom.seriesIndex,i=0,o=l.length;o>i;i++)a=h[l[i]],this._originalData.series[l[i]]=a.data,a.data&&this.getDataFromOption(a.data[0])instanceof Array&&(a.type==r.CHART_TYPE_SCATTER||a.type==r.CHART_TYPE_LINE||a.type==r.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(l[i]))},_calculScatterMap:function(e){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[e]=this._zoom.scatterMap[e]||{};var i=t("../component"),o=i.get("axis"),n=h.clone(this.option.xAxis);"category"==n[0].type&&(n[0].type="value"),n[1]&&"category"==n[1].type&&(n[1].type="value");var s=new o(this.ecTheme,null,!1,{xAxis:n,series:this.option.series},this,"xAxis"),r=this.option.series[e].xAxisIndex||0;this._zoom.scatterMap[e].x=s.getAxis(r).getExtremum(),s.dispose(),n=h.clone(this.option.yAxis),"category"==n[0].type&&(n[0].type="value"),n[1]&&"category"==n[1].type&&(n[1].type="value"),s=new o(this.ecTheme,null,!1,{yAxis:n,series:this.option.series},this,"yAxis"),r=this.option.series[e].yAxisIndex||0,this._zoom.scatterMap[e].y=s.getAxis(r).getExtremum(),s.dispose()},_buildBackground:function(){var t=this._location.width,e=this._location.height;this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:t,height:e,color:this.zoomOption.backgroundColor}}));for(var i=0,s=this._originalData.xAxis,a=this._zoom.xAxisIndex,h=0,l=a.length;l>h;h++)i=Math.max(i,s[a[h]].length);for(var c=this._originalData.yAxis,d=this._zoom.yAxisIndex,h=0,l=d.length;l>h;h++)i=Math.max(i,c[d[h]].length);for(var p,u=this._zoom.seriesIndex[0],f=this._originalData.series[u],g=Number.MIN_VALUE,m=Number.MAX_VALUE,h=0,l=f.length;l>h;h++)p=this.getDataFromOption(f[h],0),this.option.series[u].type==r.CHART_TYPE_K&&(p=p[1]),isNaN(p)&&(p=0),g=Math.max(g,p),m=Math.min(m,p);var _=g-m,y=[],v=t/(i-(i>1?1:0)),x=e/(i-(i>1?1:0)),b=1;"horizontal"==this.zoomOption.orient&&1>v?b=Math.floor(3*i/t):"vertical"==this.zoomOption.orient&&1>x&&(b=Math.floor(3*i/e));for(var h=0,l=i;l>h;h+=b)p=this.getDataFromOption(f[h],0),this.option.series[u].type==r.CHART_TYPE_K&&(p=p[1]),isNaN(p)&&(p=0),y.push("horizontal"==this.zoomOption.orient?[this._location.x+v*h,this._location.y+e-1-Math.round((p-m)/_*(e-10))]:[this._location.x+1+Math.round((p-m)/_*(t-10)),this._location.y+x*(l-h-1)]);"horizontal"==this.zoomOption.orient?(y.push([this._location.x+t,this._location.y+e]),y.push([this._location.x,this._location.y+e])):(y.push([this._location.x,this._location.y]),y.push([this._location.x,this._location.y+e])),this.shapeList.push(new n({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:y,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new o(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var t=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:t.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=h.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=h.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new s(this._startShape),this._endShape=new s(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var t=this.subPixelOptimize(this._location.x,1),e=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:t,y:e,width:this._location.width-(t>this._location.x?1:0),height:this._location.height-(e>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=h.clone(this._startFrameShape),this._startFrameShape=new o(this._startFrameShape),this._endFrameShape=new o(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var t,e;"horizontal"==this.zoomOption.orient?(t=this._startShape.style.x,e=this._endShape.style.x,this._fillerShae.style.x=Math.min(t,e)+this._handleSize,this._fillerShae.style.width=Math.abs(t-e)-this._handleSize,this._zoom.start=(Math.min(t,e)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(t,e)+this._handleSize-this._location.x)/this._location.width*100):(t=this._startShape.style.y,e=this._endShape.style.y,this._fillerShae.style.y=Math.min(t,e)+this._handleSize,this._fillerShae.style.height=Math.abs(t-e)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(t,e))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(t,e)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())
},_syncData:function(t){var e,i,o,n,s;for(var a in this._originalData){e=this._originalData[a];for(var h in e)s=e[h],null!=s&&(n=s.length,i=Math.floor(this._zoom.start/100*n),o=Math.ceil(this._zoom.end/100*n),this.getDataFromOption(s[0])instanceof Array&&this.option[a][h].type!=r.CHART_TYPE_K?(this._setScale(),this.option[a][h].data=this._synScatterData(h,s)):this.option[a][h].data=s.slice(i,o))}this._isSilence||!this.zoomOption.realtime&&!t||this.messageCenter.dispatch(r.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(t,e){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return e;var i,o,n,s,r,a=[],h=this._zoom.scatterMap[t];"horizontal"==this.zoomOption.orient?(i=h.x.max-h.x.min,o=this._zoom.start/100*i+h.x.min,n=this._zoom.end/100*i+h.x.min,i=h.y.max-h.y.min,s=this._zoom.start2/100*i+h.y.min,r=this._zoom.end2/100*i+h.y.min):(i=h.x.max-h.x.min,o=this._zoom.start2/100*i+h.x.min,n=this._zoom.end2/100*i+h.x.min,i=h.y.max-h.y.min,s=this._zoom.start/100*i+h.y.min,r=this._zoom.end/100*i+h.y.min);for(var l,c=0,d=e.length;d>c;c++)l=e[c].value||e[c],l[0]>=o&&l[0]<=n&&l[1]>=s&&l[1]<=r&&a.push(e[c]);return a},_setScale:function(){var t=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,e={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var i in e)for(var o=0,n=e[i].length;n>o;o++)e[i][o].scale=t||e[i][o]._scale},_backupScale:function(){var t={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var e in t)for(var i=0,o=t[e].length;o>i;i++)t[e][i]._scale=t[e][i].scale},_getDetail:function(){var t="horizontal"==this.zoomOption.orient?"xAxis":"yAxis",e=this._originalData[t];for(var i in e){var o=e[i];if(null!=o){var n=o.length,s=Math.floor(this._zoom.start/100*n),r=Math.ceil(this._zoom.end/100*n);return r-=r>0?1:0,{start:this.getDataFromOption(o[s]),end:this.getDataFromOption(o[r])}}}var h=this._zoom.seriesIndex[0],l=this.option.series[h][t+"Index"]||0,c=this.option[t][l].type,d=this._zoom.scatterMap[h][t.charAt(0)].min,p=this._zoom.scatterMap[h][t.charAt(0)].max,u=p-d;if("value"==c)return{start:d+u*this._zoom.start/100,end:d+u*this._zoom.end/100};if("time"==c){p=d+u*this._zoom.end/100,d+=u*this._zoom.start/100;var f=a.getAutoFormatter(d,p).formatter;return{start:a.format(f,d),end:a.format(f,p)}}return{start:"",end:""}},__ondrift:function(t,e,i){this.zoomOption.zoomLock&&(t=this._fillerShae);var o="filler"==t._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?t.style.x+e-o<=this._location.x?t.style.x=this._location.x+o:t.style.x+e+t.style.width+o>=this._location.x+this._location.width?t.style.x=this._location.x+this._location.width-t.style.width-o:t.style.x+=e:t.style.y+i-o<=this._location.y?t.style.y=this._location.y+o:t.style.y+i+t.style.height+o>=this._location.y+this._location.height?t.style.y=this._location.y+this._location.height-t.style.height-o:t.style.y+=i,"filler"==t._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var n=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=n.start,this._endShape.style.text=this._endShape.highlightStyle.text=n.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.zoomOption.realtime&&this._syncData(),e.dragOut=!0,e.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(r.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),e.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(t,e){e.needRefresh=!0},absoluteZoom:function(t){this._zoom.start=t.start,this._zoom.end=t.end,this._zoom.start2=t.start2,this._zoom.end2=t.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(t){if(!t)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var e=this.component.grid.getArea(),i={x:t.x,y:t.y,width:t.width,height:t.height};if(i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height),i.x>e.x+e.width||i.y>e.y+e.height)return!1;i.x<e.x&&(i.x=e.x),i.x+i.width>e.x+e.width&&(i.width=e.x+e.width-i.x),i.y+i.height>e.y+e.height&&(i.height=e.y+e.height-i.y);var o,n=(i.x-e.x)/e.width,s=1-(i.x+i.width-e.x)/e.width,r=1-(i.y+i.height-e.y)/e.height,a=(i.y-e.y)/e.height;return"horizontal"==this.zoomOption.orient?(o=this._zoom.end-this._zoom.start,this._zoom.start+=o*n,this._zoom.end-=o*s,o=this._zoom.end2-this._zoom.start2,this._zoom.start2+=o*r,this._zoom.end2-=o*a):(o=this._zoom.end-this._zoom.start,this._zoom.start+=o*r,this._zoom.end-=o*a,o=this._zoom.end2-this._zoom.start2,this._zoom.start2+=o*n,this._zoom.end2-=o*s),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(t){for(var e,i,o=this._originalData.series,n=t.series,s=0,r=n.length;r>s;s++){i=n[s].data||n[s].eventList,e=o[s]?Math.floor(this._zoom.start/100*o[s].length):0;for(var a=0,h=i.length;h>a;a++)o[s]&&(o[s][a+e]=i[a])}},syncOption:function(t){this.silence(!0),this.option=t,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(t){this._isSilence=t},getRealDataIndex:function(t,e){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return e;var i=this._originalData.series;return i[t]?Math.floor(this._zoom.start/100*i[t].length)+e:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},h.inherits(e,i),t("../component").define("dataZoom",e),e}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,o,n,s,r){if(n.data.length<1)return void console.error("option.data.length < 1.");i.call(this,t,e,o,n,s),this.grid=this.component.grid;for(var a in r)this[a]=r[a];this.refresh(n)}var i=t("./base"),o=t("zrender/shape/Text"),n=t("zrender/shape/Line"),s=t("zrender/shape/Rectangle"),r=t("../config");r.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var a=t("zrender/tool/util"),h=t("zrender/tool/area");return e.prototype={type:r.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(t){var e=this.getDataFromOption(this.option.data[t]),i=this.option.data[t].formatter||this.option.axisLabel.formatter;return i&&("function"==typeof i?e=i.call(this.myChart,e):"string"==typeof i&&(e=i.replace("{value}",e))),e},_getInterval:function(){var t=this.option.axisLabel.interval;if("auto"==t){var e=this.option.axisLabel.textStyle.fontSize,i=this.option.data,o=this.option.data.length;if(this.isHorizontal())if(o>3){var n,s,r=this.getGap(),l=!1,c=Math.floor(.5/r);for(c=1>c?1:c,t=Math.floor(15/r);!l&&o>t;){t+=c,l=!0,n=Math.floor(r*t);for(var d=Math.floor((o-1)/t)*t;d>=0;d-=t){if(0!==this.option.axisLabel.rotate)s=e;else if(i[d].textStyle)s=h.getTextWidth(this._getReformedLabel(d),this.getFont(a.merge(i[d].textStyle,this.option.axisLabel.textStyle)));else{var p=this._getReformedLabel(d)+"",u=(p.match(/\w/g)||"").length,f=p.length-u;s=u*e*2/3+f*e}if(s>n){l=!1;break}}}}else t=1;else if(o>3){var r=this.getGap();for(t=Math.floor(11/r);e>r*t-6&&o>t;)t++}else t=1}else t="function"==typeof t?1:t-0+1;return t},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this.option.data,i=this.option.data.length,o=this.option.axisTick,s=o.length,r=o.lineStyle.color,a=o.lineStyle.width,h="function"==typeof o.interval?o.interval:"auto"==o.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,l=h?1:"auto"==o.interval?this._interval:o.interval-0+1,c=o.onGap,d=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0,p=d>0?-l:0;if(this.isHorizontal())for(var u,f="bottom"==this.option.position?o.inside?this.grid.getYend()-s-1:this.grid.getYend()+1:o.inside?this.grid.getY()+1:this.grid.getY()-s-1,g=p;i>g;g+=l)(!h||h(g,e[g]))&&(u=this.subPixelOptimize(this.getCoordByIndex(g)+(g>=0?d:0),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:f,xEnd:u,yEnd:f+s,strokeColor:r,lineWidth:a}},this.shapeList.push(new n(t)));else for(var m,_="left"==this.option.position?o.inside?this.grid.getX()+1:this.grid.getX()-s-1:o.inside?this.grid.getXend()-s-1:this.grid.getXend()+1,g=p;i>g;g+=l)(!h||h(g,e[g]))&&(m=this.subPixelOptimize(this.getCoordByIndex(g)-(g>=0?d:0),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:_,yStart:m,xEnd:_+s,yEnd:m,strokeColor:r,lineWidth:a}},this.shapeList.push(new n(t)))},_buildAxisLabel:function(){var t,e,i=this.option.data,n=this.option.data.length,s=this.option.axisLabel,r=s.rotate,h=s.margin,l=s.clickable,c=s.textStyle,d="function"==typeof s.interval?s.interval:!1;if(this.isHorizontal()){var p,u;"bottom"==this.option.position?(p=this.grid.getYend()+h,u="top"):(p=this.grid.getY()-h,u="bottom");for(var f=0;n>f;f+=this._interval)d&&!d(f,i[f])||""===this._getReformedLabel(f)||(e=a.merge(i[f].textStyle||{},c),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(f),y:p,color:e.color,text:this._getReformedLabel(f),textFont:this.getFont(e),textAlign:e.align||"center",textBaseline:e.baseline||u}},r&&(t.style.textAlign=r>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",t.rotation=[r*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(l,t))))}else{var g,m;"left"==this.option.position?(g=this.grid.getX()-h,m="right"):(g=this.grid.getXend()+h,m="left");for(var f=0;n>f;f+=this._interval)d&&!d(f,i[f])||""===this._getReformedLabel(f)||(e=a.merge(i[f].textStyle||{},c),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:g,y:this.getCoordByIndex(f),color:e.color,text:this._getReformedLabel(f),textFont:this.getFont(e),textAlign:e.align||m,textBaseline:e.baseline||0===f&&""!==this.option.name?"bottom":f==n-1&&""!==this.option.name?"top":"middle"}},r&&(t.rotation=[r*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(l,t))))}},_buildSplitLine:function(){var t,e=this.option.data,i=this.option.data.length,o=this.option.splitLine,s=o.lineStyle.type,r=o.lineStyle.width,a=o.lineStyle.color;a=a instanceof Array?a:[a];var h=a.length,l="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,c=o.onGap,d=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0;if(i-=c||"undefined"==typeof c&&this.option.boundaryGap?1:0,this.isHorizontal())for(var p,u=this.grid.getY(),f=this.grid.getYend(),g=0;i>g;g+=this._interval)(!l||l(g,e[g]))&&(p=this.subPixelOptimize(this.getCoordByIndex(g)+d,r),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:u,xEnd:p,yEnd:f,strokeColor:a[g/this._interval%h],lineType:s,lineWidth:r}},this.shapeList.push(new n(t)));else for(var m,_=this.grid.getX(),y=this.grid.getXend(),g=0;i>g;g+=this._interval)(!l||l(g,e[g]))&&(m=this.subPixelOptimize(this.getCoordByIndex(g)-d,r),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:_,yStart:m,xEnd:y,yEnd:m,strokeColor:a[g/this._interval%h],lineType:s,lineWidth:r}},this.shapeList.push(new n(t)))},_buildSplitArea:function(){var t,e=this.option.data,i=this.option.splitArea,o=i.areaStyle.color;if(o instanceof Array){var n=o.length,r=this.option.data.length,a="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,h=i.onGap,l=h?this.getGap()/2:"undefined"==typeof h&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var c,d=this.grid.getY(),p=this.grid.getHeight(),u=this.grid.getX(),f=0;r>=f;f+=this._interval)a&&!a(f,e[f])&&r>f||(c=r>f?this.getCoordByIndex(f)+l:this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:u,y:d,width:c-u,height:p,color:o[f/this._interval%n]}},this.shapeList.push(new s(t)),u=c);else for(var g,m=this.grid.getX(),_=this.grid.getWidth(),y=this.grid.getYend(),f=0;r>=f;f+=this._interval)a&&!a(f,e[f])&&r>f||(g=r>f?this.getCoordByIndex(f)-l:this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:m,y:g,width:_,height:y-g,color:o[f/this._interval%n]}},this.shapeList.push(new s(t)),y=g)}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:o}},this.shapeList.push(new s(t))},refresh:function(t){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var t=this.option.data.length,e=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?e/t:e/(t>1?t-1:1)},getCoord:function(t){for(var e=this.option.data,i=e.length,o=this.getGap(),n=this.option.boundaryGap?o/2:0,s=0;i>s;s++){if(this.getDataFromOption(e[s])==t)return n=this.isHorizontal()?this.grid.getX()+n:this.grid.getYend()-n;n+=o}},getCoordByIndex:function(t){if(0>t)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(t>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var e=this.getGap(),i=this.option.boundaryGap?e/2:0;return i+=t*e,i=this.isHorizontal()?this.grid.getX()+i:this.grid.getYend()-i},getNameByIndex:function(t){return this.getDataFromOption(this.option.data[t])},getIndexByName:function(t){for(var e=this.option.data,i=e.length,o=0;i>o;o++)if(this.getDataFromOption(e[o])==t)return o;return-1},getValueFromCoord:function(){return""},isMainAxis:function(t){return t%this._interval===0}},a.inherits(e,i),t("../component").define("categoryAxis",e),e}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../component"],function(t){function e(t,e,o,n,s,r,a){if(!a||0===a.length)return void console.err("option.series.length == 0.");i.call(this,t,e,o,n,s),this.series=a,this.grid=this.component.grid;for(var h in r)this[h]=r[h];this.refresh(n,a)}var i=t("./base"),o=t("zrender/shape/Text"),n=t("zrender/shape/Line"),s=t("zrender/shape/Rectangle"),r=t("../config");r.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var a=t("../util/date"),h=t("zrender/tool/util");return e.prototype={type:r.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this._valueList,i=this._valueList.length,o=this.option.axisTick,s=o.length,r=o.lineStyle.color,a=o.lineStyle.width;if(this.isHorizontal())for(var h,l="bottom"===this.option.position?o.inside?this.grid.getYend()-s-1:this.grid.getYend()+1:o.inside?this.grid.getY()+1:this.grid.getY()-s-1,c=0;i>c;c++)h=this.subPixelOptimize(this.getCoord(e[c]),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:l,xEnd:h,yEnd:l+s,strokeColor:r,lineWidth:a}},this.shapeList.push(new n(t));else for(var d,p="left"===this.option.position?o.inside?this.grid.getX()+1:this.grid.getX()-s-1:o.inside?this.grid.getXend()-s-1:this.grid.getXend()+1,c=0;i>c;c++)d=this.subPixelOptimize(this.getCoord(e[c]),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:d,xEnd:p+s,yEnd:d,strokeColor:r,lineWidth:a}},this.shapeList.push(new n(t))},_buildAxisLabel:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.axisLabel.rotate,s=this.option.axisLabel.margin,r=this.option.axisLabel.clickable,a=this.option.axisLabel.textStyle;if(this.isHorizontal()){var h,l;"bottom"===this.option.position?(h=this.grid.getYend()+s,l="top"):(h=this.grid.getY()-s,l="bottom");for(var c=0;i>c;c++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(e[c]),y:h,color:"function"==typeof a.color?a.color(e[c]):a.color,text:this._valueLabel[c],textFont:this.getFont(a),textAlign:a.align||"center",textBaseline:a.baseline||l}},n&&(t.style.textAlign=n>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",t.rotation=[n*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(r,t)))}else{var d,p;"left"===this.option.position?(d=this.grid.getX()-s,p="right"):(d=this.grid.getXend()+s,p="left");for(var c=0;i>c;c++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:d,y:this.getCoord(e[c]),color:"function"==typeof a.color?a.color(e[c]):a.color,text:this._valueLabel[c],textFont:this.getFont(a),textAlign:a.align||p,textBaseline:a.baseline||(0===c&&""!==this.option.name?"bottom":c===i-1&&""!==this.option.name?"top":"middle")}},n&&(t.rotation=[n*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(r,t)))}},_buildSplitLine:function(){var t,e=this._valueList,i=this._valueList.length,o=this.option.splitLine,s=o.lineStyle.type,r=o.lineStyle.width,a=o.lineStyle.color;a=a instanceof Array?a:[a];var h=a.length;if(this.isHorizontal())for(var l,c=this.grid.getY(),d=this.grid.getYend(),p=0;i>p;p++)l=this.subPixelOptimize(this.getCoord(e[p]),r),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:l,yStart:c,xEnd:l,yEnd:d,strokeColor:a[p%h],lineType:s,lineWidth:r}},this.shapeList.push(new n(t));else for(var u,f=this.grid.getX(),g=this.grid.getXend(),p=0;i>p;p++)u=this.subPixelOptimize(this.getCoord(e[p]),r),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:f,yStart:u,xEnd:g,yEnd:u,strokeColor:a[p%h],lineType:s,lineWidth:r}},this.shapeList.push(new n(t))},_buildSplitArea:function(){var t,e=this.option.splitArea.areaStyle.color;if(e instanceof Array){var i=e.length,o=this._valueList,n=this._valueList.length;if(this.isHorizontal())for(var r,a=this.grid.getY(),h=this.grid.getHeight(),l=this.grid.getX(),c=0;n>=c;c++)r=n>c?this.getCoord(o[c]):this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:l,y:a,width:r-l,height:h,color:e[c%i]}},this.shapeList.push(new s(t)),l=r;else for(var d,p=this.grid.getX(),u=this.grid.getWidth(),f=this.grid.getYend(),c=0;n>=c;c++)d=n>c?this.getCoord(o[c]):this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:p,y:d,width:u,height:f-d,color:e[c%i]}},this.shapeList.push(new s(t)),f=d}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:e}},this.shapeList.push(new s(t))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var t,e,i={},o=this.component.legend,n=0,s=this.series.length;s>n;n++)!(this.series[n].type!=r.CHART_TYPE_LINE&&this.series[n].type!=r.CHART_TYPE_BAR&&this.series[n].type!=r.CHART_TYPE_SCATTER&&this.series[n].type!=r.CHART_TYPE_K&&this.series[n].type!=r.CHART_TYPE_EVENTRIVER||o&&!o.isSelected(this.series[n].name)||(t=this.series[n].xAxisIndex||0,e=this.series[n].yAxisIndex||0,this.option.xAxisIndex!=t&&this.option.yAxisIndex!=e||!this._calculSum(i,n)));var a;for(var n in i){a=i[n];for(var h=0,l=a.length;l>h;h++)if(!isNaN(a[h])){this._hasData=!0,this._min=a[h],this._max=a[h];break}if(this._hasData)break}for(var n in i){a=i[n];for(var h=0,l=a.length;l>h;h++)isNaN(a[h])||(this._min=Math.min(this._min,a[h]),this._max=Math.max(this._max,a[h]))}var c=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(c*this.option.boundaryGap[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(c*this.option.boundaryGap[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"!=this.option.type?this._reformValue(this.option.scale):this._reformTimeValue()}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"!=this.option.type?this._customerValue():this._reformTimeValue()},_calculSum:function(t,e){var i,o,n=this.series[e].name||"kener";if(this.series[e].stack){var s="__Magic_Key_Positive__"+this.series[e].stack,h="__Magic_Key_Negative__"+this.series[e].stack;t[s]=t[s]||[],t[h]=t[h]||[],t[n]=t[n]||[],o=this.series[e].data;for(var l=0,c=o.length;c>l;l++)i=this.getDataFromOption(o[l]),"-"!==i&&(i-=0,i>=0?null!=t[s][l]?t[s][l]+=i:t[s][l]=i:null!=t[h][l]?t[h][l]+=i:t[h][l]=i,this.option.scale&&t[n].push(i))}else if(t[n]=t[n]||[],this.series[e].type!=r.CHART_TYPE_EVENTRIVER){o=this.series[e].data;for(var l=0,c=o.length;c>l;l++)i=this.getDataFromOption(o[l]),this.series[e].type===r.CHART_TYPE_K?(t[n].push(i[0]),t[n].push(i[1]),t[n].push(i[2]),t[n].push(i[3])):i instanceof Array?(-1!=this.option.xAxisIndex&&t[n].push("time"!=this.option.type?i[0]:a.getNewDate(i[0])),-1!=this.option.yAxisIndex&&t[n].push("time"!=this.option.type?i[1]:a.getNewDate(i[1]))):t[n].push(i)}else{o=this.series[e].eventList;for(var l=0,c=o.length;c>l;l++)for(var d=o[l].evolution,p=0,u=d.length;u>p;p++)t[n].push(a.getNewDate(d[p].time))}},_reformValue:function(e){var i=t("../util/smartSteps"),o=this.option.splitNumber;!e&&this._min>=0&&this._max>=0&&(this._min=0),!e&&this._min<=0&&this._max<=0&&(this._max=0);var n=i(this._min,this._max,o);o=null!=o?o:n.secs,this._min=n.min,this._max=n.max,this._valueList=n.pnts,this._reformLabelData()},_reformTimeValue:function(){var t=null!=this.option.splitNumber?this.option.splitNumber:5,e=a.getAutoFormatter(this._min,this._max,t),i=e.formatter,o=e.gapValue;this._valueList=[a.getNewDate(this._min)];var n;switch(i){case"week":n=a.nextMonday(this._min);break;case"month":n=a.nextNthOnMonth(this._min,1);break;case"quarter":n=a.nextNthOnQuarterYear(this._min,1);break;case"half-year":n=a.nextNthOnHalfYear(this._min,1);break;case"year":n=a.nextNthOnYear(this._min,1);break;default:72e5>=o?n=(Math.floor(this._min/o)+1)*o:(n=a.getNewDate(this._min- -o),n.setHours(6*Math.round(n.getHours()/6)),n.setMinutes(0),n.setSeconds(0))}for(n-this._min<o/2&&(n-=-o),e=a.getNewDate(n),t*=1.5;t-->=0&&(("month"==i||"quarter"==i||"half-year"==i||"year"==i)&&e.setDate(1),!(this._max-e<o/2));)this._valueList.push(e),e=a.getNewDate(e- -o);this._valueList.push(a.getNewDate(this._max)),this._reformLabelData(i)},_customerValue:function(){var e=t("../util/accMath"),i=null!=this.option.splitNumber?this.option.splitNumber:5,o=(this._max-this._min)/i;this._valueList=[];for(var n=0;i>=n;n++)this._valueList.push(e.accAdd(this._min,e.accMul(o,n)));this._reformLabelData()},_reformLabelData:function(t){this._valueLabel=[];var e=this.option.axisLabel.formatter;if(e)for(var i=0,o=this._valueList.length;o>i;i++)"function"==typeof e?this._valueLabel.push(t?e.call(this.myChart,this._valueList[i],t):e.call(this.myChart,this._valueList[i])):"string"==typeof e&&this._valueLabel.push(t?a.format(e,this._valueList[i]):e.replace("{value}",this._valueList[i]));else if(t)for(var i=0,o=this._valueList.length;o>i;i++)this._valueLabel.push(a.format(t,this._valueList[i]));else for(var i=0,o=this._valueList.length;o>i;i++)this._valueLabel.push(this.numAddCommas(this._valueList[i]))},getExtremum:function(){return this._calculateValue(),{min:this._min,max:this._max}},refresh:function(t,e){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=h.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=e),this.zr&&(this.clear(),this._buildShape())},getCoord:function(t){t=t<this._min?this._min:t,t=t>this._max?this._max:t;var e;return e=this.isHorizontal()?this.grid.getX()+(t-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(t-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(t){return Math.abs(this.isHorizontal()?t/(this._max-this._min)*this.grid.getWidth():t/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(t){var e;return this.isHorizontal()?(t=t<this.grid.getX()?this.grid.getX():t,t=t>this.grid.getXend()?this.grid.getXend():t,e=this._min+(t-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(t=t<this.grid.getY()?this.grid.getY():t,t=t>this.grid.getYend()?this.grid.getYend():t,e=this._max-(t-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),e.toFixed(2)-0},isMaindAxis:function(t){for(var e=0,i=this._valueList.length;i>e;e++)if(this._valueList[e]===t)return!0;return!1}},h.inherits(e,i),t("../component").define("valueAxis",e),e}),define("echarts/util/date",[],function(){function t(t,e,i){i=i>1?i:2;for(var o,n,s,r,a=0,h=c.length;h>a;a++)if(o=c[a].value,n=Math.ceil(e/o)*o-Math.floor(t/o)*o,Math.round(n/o)<=1.2*i){s=c[a].formatter,r=c[a].value;break}return null==s&&(s="year",o=317088e5,n=Math.ceil(e/o)*o-Math.floor(t/o)*o,r=Math.round(n/(i-1)/o)*o),{formatter:s,gapValue:r}}function e(t){return 10>t?"0"+t:t}function i(t,i){("week"==t||"month"==t||"quarter"==t||"half-year"==t||"year"==t)&&(t="MM - dd\nyyyy");var o=l(i),n=o.getFullYear(),s=o.getMonth()+1,r=o.getDate(),a=o.getHours(),h=o.getMinutes(),c=o.getSeconds();return t=t.replace("MM",e(s)),t=t.toLowerCase(),t=t.replace("yyyy",n),t=t.replace("yy",n%100),t=t.replace("dd",e(r)),t=t.replace("d",r),t=t.replace("hh",e(a)),t=t.replace("h",a),t=t.replace("mm",e(h)),t=t.replace("m",h),t=t.replace("ss",e(c)),t=t.replace("s",c)}function o(t){return t=l(t),t.setDate(t.getDate()+8-t.getDay()),t}function n(t,e,i){return t=l(t),t.setMonth(Math.ceil((t.getMonth()+1)/i)*i),t.setDate(e),t}function s(t,e){return n(t,e,1)}function r(t,e){return n(t,e,3)}function a(t,e){return n(t,e,6)}function h(t,e){return n(t,e,12)}function l(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):t)}var c=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:t,getNewDate:l,format:i,nextMonday:o,nextNthPerNmonth:n,nextNthOnMonth:s,nextNthOnQuarterYear:r,nextNthOnHalfYear:a,nextNthOnYear:h}}),define("echarts/util/smartSteps",[],function(){function t(t){return w.log(M(t))/w.LN10}function e(t){return w.pow(10,t)}function i(t){return t===L(t)}function o(t,e,o,n){v=n||{},x=v.steps||z,b=v.secs||C,o=E(+o||0)%99,t=+t||0,e=+e||0,T=S=0,"min"in v&&(t=+v.min||0,T=1),"max"in v&&(e=+v.max||0,S=1),t>e&&(e=[t,t=e][0]);var s=e-t;if(T&&S)return y(t,e,o);if((o||5)>s){if(i(t)&&i(e))return u(t,e,o);if(0===s)return f(t,e,o)}return l(t,e,o)}function n(t,i,o,n){n=n||0;var a=s((i-t)/o,-1),h=s(t,-1,1),l=s(i,-1),c=w.min(a.e,h.e,l.e);0===h.c?c=w.min(a.e,l.e):0===l.c&&(c=w.min(a.e,h.e)),r(a,{c:0,e:c}),r(h,a,1),r(l,a),n+=c,t=h.c,i=l.c;for(var d=(i-t)/o,p=e(n),u=0,f=[],g=o+1;g--;)f[g]=(t+d*g)*p;if(0>n){u=m(p),d=+(d*p).toFixed(u),t=+(t*p).toFixed(u),i=+(i*p).toFixed(u);for(var g=f.length;g--;)f[g]=f[g].toFixed(u),0===+f[g]&&(f[g]="0")}else t*=p,i*=p,d*=p;return b=0,x=0,v=0,{min:t,max:i,secs:o,step:d,fix:u,exp:n,pnts:f}}function s(o,n,s){n=E(n%10)||2,0>n&&(i(o)?n=(""+M(o)).replace(/0+$/,"").length||1:(o=o.toFixed(15).replace(/0+$/,""),n=o.replace(".","").replace(/^[-0]+/,"").length,o=+o));var r=L(t(o))-n+1,a=+(o*e(-r)).toFixed(15)||0;return a=s?L(a):A(a),!a&&(r=0),(""+M(a)).length>n&&(r+=1,a/=10),{c:a,e:r}}function r(t,i,o){var n=i.e-t.e;n&&(t.e+=n,t.c*=e(-n),t.c=o?L(t.c):A(t.c))}function a(t,e,i){t.e<e.e?r(e,t,i):r(t,e,i)}function h(t,e){e=e||z,t=s(t);for(var i=t.c,o=0;i>e[o];)o++;if(!e[o])for(i/=10,t.e+=1,o=0;i>e[o];)o++;return t.c=e[o],t}function l(t,e,o){var a,l=o||+b.slice(-1),f=h((e-t)/l,x),m=s(e-t),y=s(t,-1,1),v=s(e,-1);if(r(m,f),r(y,f,1),r(v,f),o?a=d(y,v,l):l=c(y,v),i(t)&&i(e)&&t*e>=0){if(l>e-t)return u(t,e,l);l=p(t,e,o,y,v,l)}var z=g(t,e,y.c,v.c);return y.c=z[0],v.c=z[1],(T||S)&&_(t,e,y,v),n(y.c,v.c,l,v.e)}function c(t,i){for(var o,n,s,r,a=[],l=b.length;l--;)o=b[l],n=h((i.c-t.c)/o,x),n=n.c*e(n.e),s=L(t.c/n)*n,r=A(i.c/n)*n,a[l]={min:s,max:r,step:n,span:r-s};return a.sort(function(t,e){var i=t.span-e.span;return 0===i&&(i=t.step-e.step),i}),a=a[0],o=a.span/a.step,t.c=a.min,i.c=a.max,3>o?2*o:o}function d(t,i,o){for(var n,s,r=i.c,a=(i.c-t.c)/o-1;r>t.c;)a=h(a+1,x),a=a.c*e(a.e),n=a*o,s=A(i.c/a)*a,r=s-n;var l=t.c-r,c=s-i.c,d=l-c;return d>1.1*a&&(d=E(d/a/2)*a,r+=d,s+=d),t.c=r,i.c=s,a}function p(t,o,n,s,r,a){var h=r.c-s.c,l=h/a*e(r.e);if(!i(l)&&(l=L(l),h=l*a,o-t>h&&(l+=1,h=l*a,!n&&l*(a-1)>=o-t&&(a-=1,h=l*a)),h>=o-t)){var c=h-(o-t);s.c=E(t-c/2),r.c=E(o+c/2),s.e=0,r.e=0}return a}function u(t,e,i){if(i=i||5,T)e=t+i;else if(S)t=e-i;else{var o=i-(e-t),s=E(t-o/2),r=E(e+o/2),a=g(t,e,s,r);t=a[0],e=a[1]}return n(t,e,i)}function f(t,e,i){i=i||5;var o=w.min(M(e/i),i)/2.1;return T?e=t+o:S?t=e-o:(t-=o,e+=o),l(t,e,i)}function g(t,e,i,o){return t>=0&&0>i?(o-=i,i=0):0>=e&&o>0&&(i-=o,o=0),[i,o]}function m(t){return t=(+t).toFixed(15).split("."),t.pop().replace(/0+$/,"").length
}function _(t,e,i,o){if(T){var n=s(t,4,1);i.e-n.e>6&&(n={c:0,e:i.e}),a(i,n),a(o,n),o.c+=n.c-i.c,i.c=n.c}else if(S){var r=s(e,4);o.e-r.e>6&&(r={c:0,e:o.e}),a(i,r),a(o,r),i.c+=r.c-o.c,o.c=r.c}}function y(t,e,i){var o=i?[i]:b,a=e-t;if(0===a)return e=s(e,3),i=o[0],e.c=E(e.c+i/2),n(e.c-i,e.c,i,e.e);M(e/a)<1e-6&&(e=0),M(t/a)<1e-6&&(t=0);var h,l,c,d=[[5,10],[10,2],[50,10],[100,2]],p=[],u=[],f=s(e-t,3),g=s(t,-1,1),m=s(e,-1);r(g,f,1),r(m,f),a=m.c-g.c,f.c=a;for(var _=o.length;_--;){i=o[_],h=A(a/i),l=h*i-a,c=3*(l+3),c+=2*(i-o[0]+2),i%5===0&&(c-=10);for(var y=d.length;y--;)h%d[y][0]===0&&(c/=d[y][1]);u[_]=[i,h,l,c].join(),p[_]={secs:i,step:h,delta:l,score:c}}return p.sort(function(t,e){return t.score-e.score}),p=p[0],g.c=E(g.c-p.delta/2),m.c=E(m.c+p.delta/2),n(g.c,m.c,p.secs,f.e)}var v,x,b,T,S,z=[10,20,25,50],C=[4,5,6],w=Math,E=w.round,L=w.floor,A=w.ceil,M=w.abs;return o});